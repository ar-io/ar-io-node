#!/usr/bin/env bash
#
# AR.IO Gateway
# Copyright (C) 2022-2025 Permanent Data Solutions, Inc. All Rights Reserved.
#
# SPDX-License-Identifier: AGPL-3.0-or-later
#
# Historical DHA Chunk Nodes Monitoring Tool Wrapper
#
# This script provides a convenient way to run the DHA chunk nodes monitoring tool
# without having to remember the Node.js import flags.
#
# Usage:
#   ./tools/monitor-historical-dha-chunk-nodes
#   ./tools/monitor-historical-dha-chunk-nodes --interval 60000 --verbose
#   ./tools/monitor-historical-dha-chunk-nodes --output monitoring-results.json
#

set -euo pipefail

# Get the directory containing this script
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
PROJECT_ROOT="$(cd "${SCRIPT_DIR}/.." && pwd)"

# Change to project root
cd "${PROJECT_ROOT}"

# Pass all arguments to the TypeScript tool
exec node --import ./register.js tools/lib/monitor-historical-dha-chunk-nodes.ts "$@"
