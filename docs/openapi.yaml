---
openapi: 3.1.1
info:
  title: AR.IO Gateway
  version: 0.0.1
  x-logo:
    url: 'https://ar.io/wp-content/uploads/2022/02/ar-io-FINAL-LOGO-SHADOW.png'
  description: |
    AR.IO Gateways are the interface between users and the Permaweb. Each Gateway acts like a “Permaweb Service
    Provider” and supports multiple, value-added, low-trust services for users and applications.

    The AR.IO HTTP API is served by all AR.IO Gateways, and is used by all Arweave clients looking to read, write and query data.  It supports the following capabilities
    - seeding layer one transactions to the greater Arweave network
    - caching and serving chain and transaction data
    - resolving friendly names to transaction data with the Arweave Name System
    - indexing and querying layer one and two transactions
    - proxy for Arweave nodes serving the Arweave HTTP API

    ## Errors

    The API uses standard HTTP status codes to indicate the success or failure of the API call.

    ## Authentication

    All inbound transactions to the Arweave network must contain a valid signature from an Arweave wallet with appropriate amount of AR tokens.  At this time, clients are not required to sign their requests for outbound data from the Arweave network.
  license:
    name: GNU Affero General Public License v3.0
    identifier: AGPL-3.0-only
tags:
  - name: Gateway
    description: |
      Operations related to the AR.IO Gateway server itself, including health checks, metrics, and gateway-specific information
  - name: Data
    description: |
      Core data retrieval operations for accessing transaction and data item content. Supports manifest resolution,
      range requests, caching, and verification status. These endpoints serve as the primary interface for retrieving
      data from the Permaweb.
  - name: Network
    description: |
      Get Arweave node info, peers and nework status
  - name: Pricing
    description: |
      Get the price (in winston) for an amount of bytes
  - name: Wallets
    description: |
      Get Arweave wallet balance and last transaction information
  - name: Blocks
    description: |
      Get current or historical Arweave block information
  - name: Transactions
    description: |
      Submit a new Arweave transaction or get existing transaction information
  - name: Chunks
    description: |
      Upload Arweave data chunks or get existing chunk offset information
  - name: ArNS
    description: |
      Get data from the AR.IO Gateway Arweave Name System
  - name: Index Querying
    description: |
      Get data from the AR.IO Gateway index using GQL
  - name: Farcaster Frames
    description: |
      Retrieve and interact with Farcaster Frames using Arweave transactions.
  - name: Admin
    description: |
      Access several password protected features and functions specific to your AR.IO Gateway.
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: apiToken
      description: ADMIN_API_KEY set in your .env file.
  schemas:
    Base64Url:
      type: string
      pattern: '^[A-Za-z0-9_-]+$'
    Base64Url43:
      type: string
      pattern: '^[0-9a-zA-Z_-]{43}$'
    Base64Url64:
      type: string
      pattern: '^[0-9a-zA-Z_-]{64}$'
    Base64Url4364:
      type: string
      pattern: '^[0-9a-zA-Z_-]{43}$|^[0-9a-zA-Z_-]{64}$'
    WinstonAmount:
      type: string
      pattern: '^[0-9]{1,21}$'
    NumericString:
      type: string
      pattern: '^[0-9]+$'
    IntegerOrNumericString:
      description: A value that can be either an integer or a string representation of an integer
      anyOf:
        - type: integer
        - type: string
          pattern: '^[0-9]+$'
    TagList:
      type: array
      maxItems: 2048
      items:
        type: object
        properties:
          name:
            type: string
            pattern: '^[0-9a-zA-Z_-]{1,2731}$'
          value:
            type: string
            pattern: '^[0-9a-zA-Z_-]{1,2731}$'
    Owner:
      type: string
      pattern: '^[0-9a-zA-Z_-]{1,683}$'
    Signature:
      type: string
      pattern: '^[0-9a-zA-Z_-]{1,683}$'
    ByteRange:
      type: string
      pattern: '^bytes=\d*-\d*(?:,\d*-\d*)*$'
      description: |
        HTTP byte range specifying which parts of the data to retrieve.
        Supports single ranges (e.g. "bytes=0-1023") and multiple ranges (e.g. "bytes=0-50,100-150").
      example: 'bytes=0-1023'
    CacheStatus:
      type: string
      enum: [HIT, MISS]
      description: Indicates whether the data was served from cache
    VerificationStatus:
      type: string
      enum: [true, false]
      description: Indicates whether the data has been verified
    Block:
      type: object
      properties:
        usd_to_ar_rate:
          type: array
          minItems: 2
          maxItems: 2
          items:
            $ref: '#/components/schemas/Base64Url'
        scheduled_usd_to_ar_rate:
          type: array
          minItems: 2
          maxItems: 2
          items:
            $ref: '#/components/schemas/Base64Url'
        packing_2_5_threshold:
          $ref: '#/components/schemas/Base64Url'
        strict_data_split_threshold:
          $ref: '#/components/schemas/NumericString'
        nonce:
          $ref: '#/components/schemas/Base64Url'
        previous_block:
          $ref: '#/components/schemas/Base64Url64'
        timestamp:
          type: integer
        last_retarget:
          type: integer
        diff:
          $ref: '#/components/schemas/IntegerOrNumericString'
        height:
          type: integer
        hash:
          $ref: '#/components/schemas/Base64Url4364'
        txs:
          type: array
          minItems: 0
          maxItems: 1000
          items:
            $ref: '#/components/schemas/Base64Url43'
        tx_root:
          $ref: '#/components/schemas/Base64Url43'
        tx_tree:
          type: array
          maxItems: 0
          items:
            type: string
        wallet_list:
          $ref: '#/components/schemas/Base64Url4364'
        reward_addr:
          $ref: '#/components/schemas/Base64Url43'
        tags:
          $ref: '#/components/schemas/TagList'
        reward_pool:
          # TODO add length restriction
          $ref: '#/components/schemas/IntegerOrNumericString'
        weave_size:
          $ref: '#/components/schemas/IntegerOrNumericString'
        block_size:
          $ref: '#/components/schemas/IntegerOrNumericString'
        cumulative_diff:
          $ref: '#/components/schemas/NumericString'
        hash_list_merkle:
          $ref: '#/components/schemas/Base64Url64'
        poa:
          type: object
          properties:
            option:
              $ref: '#/components/schemas/NumericString'
            tx_path:
              # TODO specify length
              $ref: '#/components/schemas/Base64Url'
            data_path:
              # TODO specify length
              $ref: '#/components/schemas/Base64Url'
            chunk:
              # TODO specify length
              $ref: '#/components/schemas/Base64Url'
      required:
        - nonce
        - previous_block
        - timestamp
        - last_retarget
        - diff
        - height
        - hash
        - indep_hash
        - txs
        - tx_root
        - wallet_list
        - reward_addr
        - tags
        - reward_pool
        - weave_size
        - block_size
        - poa
    Chunk:
      type: object
      properties:
        tx_path:
          $ref: '#/components/schemas/Base64Url'
        packing:
          type: string
          # TODO add all types
          pattern: '^unpacked$'
        data_path:
          $ref: '#/components/schemas/Base64Url'
        chunk:
          $ref: '#/components/schemas/Base64Url'
      required:
        - tx_path
        - packing
        - data_path
        - chunk
    Transaction:
      type: object
      properties:
        format:
          type: integer
        id:
          $ref: '#/components/schemas/Base64Url43'
        last_tx:
          $ref: '#/components/schemas/Base64Url4364'
        owner:
          $ref: '#/components/schemas/Owner'
        tags:
          $ref: '#/components/schemas/TagList'
        target:
          $ref: '#/components/schemas/Base64Url43'
        quantity:
          $ref: '#/components/schemas/WinstonAmount'
        data:
          $ref: '#/components/schemas/Base64Url'
        data_tree:
          type: array
          items:
            # TODO determine contents of array (is this just for v1?)
            type: string
        data_root:
          $ref: '#/components/schemas/Base64Url'
        reward:
          $ref: '#/components/schemas/WinstonAmount'
        signature:
          $ref: '#/components/schemas/Signature'
      required:
        - format
        - id
        - last_tx
        - owner
        - tags
        - target
        - quantity
        - data
        - data_tree
        - data_root
        - reward
        - signature
    TransactionOffset:
      type: object
      properties:
        size:
          $ref: '#/components/schemas/NumericString'
        offset:
          $ref: '#/components/schemas/NumericString'
      required:
        - size
        - offset
    TransactionStatus:
      type: object
      properties:
        block_height:
          type: integer
        block_indep_hash:
          $ref: '#/components/schemas/Base64Url64'
        number_of_confirmations:
          type: integer
      required:
        - block_height
        - block_indep_hash
        - number_of_confirmations
    Mempool:
      type: array
      items:
        $ref: '#/components/schemas/Base64Url43'
    NetworkInfo:
      type: object
      properties:
        network:
          type: string
        version:
          type: integer
        release:
          type: integer
        current:
          $ref: '#/components/schemas/Base64Url64'
        blocks:
          type: integer
        peers:
          type: integer
        queue_length:
          type: integer
        node_state_latency:
          type: integer
      required:
        - network
        - version
        - release
        - current
        - blocks
        - peers
        - queue_length
        - node_state_latency
    PeerList:
      type: array
      items:
        type: string
        pattern: '^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}:\d+$'
    Height:
      type: string
      pattern: '^[0-9]{16}$'
    ArNSResolution:
      type: object
      description: Response containing ArNS name resolution details
      properties:
        txId:
          $ref: '#/components/schemas/Base64Url43'
          description: The resolved transaction ID
        ttlSeconds:
          type: integer
          description: Time-to-live in seconds for this resolution
        processId:
          type: string
          description: AO process ID
        resolvedAt:
          type: integer
          description: Unix timestamp when the name was resolved
        index:
          type: integer
          description: Index of the name in the sorted list of names
        limit:
          type: integer
          description: The undername limit for the base ArNS name
      required:
        - txId
        - ttlSeconds
        - processId
        - resolvedAt
        - index
        - limit
  requestBodies:
    QueueTxRequest:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              id:
                $ref: '#/components/schemas/Base64Url43'
                description: TX ID of the transaction you would like to prioritize.
          examples:
            example1:
              value:
                id: '3lyxgbgEvqNSvJrTX2J7CfRychUD5KClFhhVLyTPNCQ'
  responses:
    MissingId:
      description: Bad Request. Id is required.
      content:
        text/plain:
          schema:
            type: string
            example: "Must provide 'id'"
    MissingIdOrBypassFilter:
      description: Bad Request. The request is missing required parameters.
      content:
        text/plain:
          schema:
            type: string
          examples:
            missingId:
              summary: ID is required
              value: "Must provide 'id'"
            missingFilter:
              summary: bypassFilter must be a boolean
              value: "'bypassFilter' must be a boolean"
    QueueTxSuccess:
      description: Successful operation
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
                example: 'TX queued'
            required:
              - message
    Unauthorized:
      description: Unauthorized
      content:
        text/plain:
          schema:
            type: string
            example: 'Unauthorized'
    ServerError:
      description: Internal Server Error
      content:
        text/plain:
          schema:
            type: string
            example: 'Internal Server Error'

paths:
  # Gateway
  '/ar-io/healthcheck':
    get:
      tags: [Gateway]
      summary: Health check endpoint
      description: Get the current health status of the AR.IO Gateway.
      responses:
        '200':
          description: Health check response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum: [ok, unhealthy]
                    description: Current health status of the gateway
                  uptime:
                    type: number
                    description: Process uptime in seconds
                  date:
                    type: string
                    format: date-time
                    description: Current server timestamp
                  reasons:
                    type: array
                    items:
                      type: string
                    description: Array of reasons if status is unhealthy
                required:
                  - status
                  - uptime
                  - date
  '/ar-io/info':
    get:
      tags: [Gateway]
      summary: Get AR.IO Gateway information
      description: |
        Returns information about the AR.IO Gateway, including:
        - Gateway wallet address
        - Process ID
        - ANS-104 filter configurations
        - Supported manifest versions
        - Gateway software release version
      responses:
        '200':
          description: Gateway information response
          content:
            application/json:
              schema:
                type: object
                properties:
                  wallet:
                    $ref: '#/components/schemas/Base64Url43'
                    description: Gateway wallet address
                  processId:
                    $ref: '#/components/schemas/Base64Url43'
                  ans104UnbundleFilter:
                    type: object
                    description: Configuration for ANS-104 unbundling filter
                  ans104IndexFilter:
                    type: object
                    description: Configuration for ANS-104 indexing filter
                  supportedManifestVersions:
                    type: array
                    description: List of supported manifest versions
                    items:
                      type: string
                      enum: ['0.1.0', '0.2.0']
                  release:
                    type: string
                    description: Gateway software release version
                required:
                  - processId
                  - supportedManifestVersions
                  - release
  '/ar-io/__gateway_metrics':
    get:
      tags: [Gateway]
      summary: Get Prometheus metrics
      description: |
        Returns metrics in Prometheus format for monitoring the Gateway's performance and status.
        These metrics include various counters, gauges, and histograms tracking:
        - HTTP request statistics
        - Transaction processing metrics
        - System resource usage
        - Cache performance
        - Bundle processing statistics
      responses:
        '200':
          description: Prometheus metrics response
          content:
            text/plain:
              schema:
                type: string
                description: Metrics in Prometheus format
                example: |
                  # HELP errors_total Total error count
                  # TYPE errors_total counter
                  errors_total 0

                  # HELP uncaught_exceptions_total Count of uncaught exceptions
                  # TYPE uncaught_exceptions_total counter
                  uncaught_exceptions_total 0

  # Data
  '/{txId}':
    get:
      tags: [Data]
      summary: Get transaction or data item content
      description: |
        Get the content of a specified transaction or data item. Supports manifest path resolution,
        range requests, and returns various informational headers about data verification and caching status.
      parameters:
        - name: txId
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/Base64Url43'
        - name: Range
          in: header
          required: false
          schema:
            $ref: '#/components/schemas/ByteRange'
          description: Byte range(s) to retrieve
      responses:
        '200':
          description: Successful response
          headers:
            Accept-Ranges:
              schema:
                type: string
                example: bytes
            Cache-Control:
              schema:
                type: string
                example: public, max-age=2592000, immutable
            Content-Length:
              schema:
                type: string
                example: 1024
            Content-Type:
              schema:
                type: string
                example: application/octet-stream
            X-Cache:
              schema:
                $ref: '#/components/schemas/CacheStatus'
                example: HIT
            X-AR-IO-Verified:
              schema:
                $ref: '#/components/schemas/VerificationStatus'
                example: true
            X-AR-IO-Digest:
              schema:
                type: string
                example: '4ROTs2lTPAKbr8Y41WrjHu-2q-7S-m-yTuO7fAUzZI4'
            ETag:
              schema:
                type: string
                example: '4ROTs2lTPAKbr8Y41WrjHu-2q-7S-m-yTuO7fAUzZI4'
            X-AR-IO-Root-Transaction-Id:
              schema:
                $ref: '#/components/schemas/Base64Url43'
                description: For data items, the root transaction ID
                example: '283VjqeZG65tPI6V0e-gucoHCaEBPL41_cI8rXVRbMc'
            X-AR-IO-Hops:
              schema:
                type: integer
                example: 1
        '206':
          description: Partial content for range requests
          headers:
            Content-Range:
              schema:
                type: string
                example: bytes 0-1023/146515
            Content-Type:
              schema:
                type: string
                example: application/octet-stream
        '301':
          description: Redirect for manifest paths without trailing slash
        '404':
          description: Data not found or blocked
        '416':
          description: Range not satisfiable
    head:
      tags: [Data]
      summary: Get transaction or data item headers
      description: |
        Get the headers for a specified transaction or data item without the content.
        Returns the same headers as the GET request.
      parameters:
        - name: txId
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/Base64Url43'
        - name: Range
          in: header
          required: false
          schema:
            $ref: '#/components/schemas/ByteRange'
          description: Byte range(s) to check
      responses:
        '200':
          description: Successful response
          headers:
            Accept-Ranges:
              schema:
                type: string
                example: bytes
            Cache-Control:
              schema:
                type: string
                example: public, max-age=2592000, immutable
            Content-Length:
              schema:
                type: string
                example: 1024
            Content-Type:
              schema:
                type: string
                example: application/octet-stream
            X-Cache:
              schema:
                $ref: '#/components/schemas/CacheStatus'
                example: HIT
            X-AR-IO-Verified:
              schema:
                $ref: '#/components/schemas/VerificationStatus'
                example: true
            X-AR-IO-Digest:
              schema:
                type: string
                example: '4ROTs2lTPAKbr8Y41WrjHu-2q-7S-m-yTuO7fAUzZI4'
            ETag:
              schema:
                type: string
                example: '4ROTs2lTPAKbr8Y41WrjHu-2q-7S-m-yTuO7fAUzZI4'
            X-AR-IO-Root-Transaction-Id:
              schema:
                $ref: '#/components/schemas/Base64Url43'
                description: For data items, the root transaction ID
                example: '283VjqeZG65tPI6V0e-gucoHCaEBPL41_cI8rXVRbMc'
            X-AR-IO-Hops:
              schema:
                type: integer
                example: 1
  '/raw/{txId}':
    get:
      tags: [Data]
      summary: Get raw transaction data
      description: Get the raw content of a specified transaction without manifest resolution
      parameters:
        - name: txId
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/Base64Url43'
        - name: Range
          in: header
          required: false
          schema:
            $ref: '#/components/schemas/ByteRange'
          description: Byte range(s) to retrieve
      responses:
        '200':
          description: Successful response
          headers:
            Accept-Ranges:
              schema:
                type: string
                example: bytes
            Cache-Control:
              schema:
                type: string
                example: public, max-age=2592000, immutable
            Content-Length:
              schema:
                type: string
                example: 1024
            Content-Type:
              schema:
                type: string
                example: application/octet-stream
            X-Cache:
              schema:
                $ref: '#/components/schemas/CacheStatus'
                example: HIT
            X-AR-IO-Verified:
              schema:
                $ref: '#/components/schemas/VerificationStatus'
                example: true
            X-AR-IO-Digest:
              schema:
                type: string
                example: '4ROTs2lTPAKbr8Y41WrjHu-2q-7S-m-yTuO7fAUzZI4'
            ETag:
              schema:
                type: string
                example: '4ROTs2lTPAKbr8Y41WrjHu-2q-7S-m-yTuO7fAUzZI4'
            X-AR-IO-Root-Transaction-Id:
              schema:
                $ref: '#/components/schemas/Base64Url43'
                description: For data items, the root transaction ID
                example: '283VjqeZG65tPI6V0e-gucoHCaEBPL41_cI8rXVRbMc'
            X-AR-IO-Hops:
              schema:
                type: integer
                example: 1
        '206':
          description: Partial content for range requests
          headers:
            Content-Range:
              schema:
                type: string
                example: bytes 0-1023/146515
            Content-Type:
              schema:
                type: string
                example: application/octet-stream
        '404':
          description: Data not found or blocked
        '416':
          description: Range not satisfiable
    head:
      tags: [Data]
      summary: Get raw transaction data headers
      description: Get the headers for raw transaction data without manifest resolution
      parameters:
        - name: txId
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/Base64Url43'
        - name: Range
          in: header
          required: false
          schema:
            $ref: '#/components/schemas/ByteRange'
          description: Byte range(s) to check
      responses:
        '200':
          description: Successful response
          headers:
            Accept-Ranges:
              schema:
                type: string
                example: bytes
            Cache-Control:
              schema:
                type: string
                example: public, max-age=2592000, immutable
            Content-Length:
              schema:
                type: string
                example: 1024
            Content-Type:
              schema:
                type: string
                example: application/octet-stream
            X-Cache:
              schema:
                $ref: '#/components/schemas/CacheStatus'
                example: HIT
            X-AR-IO-Verified:
              schema:
                $ref: '#/components/schemas/VerificationStatus'
                example: true
            X-AR-IO-Digest:
              schema:
                type: string
                example: '4ROTs2lTPAKbr8Y41WrjHu-2q-7S-m-yTuO7fAUzZI4'
            ETag:
              schema:
                type: string
                example: '4ROTs2lTPAKbr8Y41WrjHu-2q-7S-m-yTuO7fAUzZI4'
            X-AR-IO-Root-Transaction-Id:
              schema:
                $ref: '#/components/schemas/Base64Url43'
                description: For data items, the root transaction ID
                example: '283VjqeZG65tPI6V0e-gucoHCaEBPL41_cI8rXVRbMc'
            X-AR-IO-Hops:
              schema:
                type: integer
                example: 1
        '404':
          description: Data not found or blocked
        '416':
          description: Range not satisfiable for HEAD request

  # Network and Node Status
  '/':
    get:
      tags: [Network]
      summary: Network and Gateway Status.
      description: Get information about the current status of the Network and your Gateway.
      responses:
        '200':
          description: |-
            Successful operation.
          content:
            application/json:
              schema:
                '$ref': '#/components/schemas/NetworkInfo'
  '/info':
    get:
      tags: [Network]
      summary: Network and Gateway Status, alternate endpoint.
      description: An alternative option for accessing network and Gateway status.
      responses:
        '200':
          description: |-
            Successful operation.
          content:
            application/json:
              schema:
                '$ref': '#/components/schemas/NetworkInfo'
  '/peers':
    get:
      tags: [Network]
      summary: Get active peer list.
      description: Gets a list of ip addresses for peers your Gateway is currently connected with.
      responses:
        '200':
          description: |-
            Successful operation.
          content:
            application/json:
              schema:
                '$ref': '#/components/schemas/PeerList'
  '/height':
    get:
      tags: [Network]
      summary: Get current block height.
      description: Gets the current block height of the Arweave network.
      responses:
        '200':
          description: |-
            200 response
          content:
            application/json:
              schema:
                '$ref': '#/components/schemas/Height'
  '/tx_anchor':
    get:
      tags: [Network]
      summary: Get the current transaction anchor.
      description: Get the current transaction anchor of the Arweave network.
      responses:
        '200':
          description: |-
            200 response
          content:
            text/plain:
              schema:
                '$ref': '#/components/schemas/Base64Url43'

  # Pricing
  '/price/{size}':
    get:
      tags: [Pricing]
      summary: Get price to store an amount of data.
      description: Get the price, in Winston, required to store a specified amount of data, in bytes, on the Arweave network.
      parameters:
        - name: size
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/NumericString'
      responses:
        '200':
          description: |-
            Successful operation.
          content:
            text/plain:
              schema:
                type: integer
  '/price/{size}/target':
    get:
      tags: [Pricing]
      summary: Get price to transfer AR into a wallet and store an amount of data
      description: |
        Get the price, in Winston, required to transfer AR into a wallet and store a specified amount of data, in bytes, on the Arweave network.
      parameters:
        - name: size
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/NumericString'
      responses:
        '200':
          description: |-
            Successful operation.
          content:
            text/html:
              schema:
                type: integer

  # Wallets
  '/wallet/{address}/balance':
    get:
      tags: [Wallets]
      summary: Get the current balance of a wallet.
      description: Get the current balance of AR, in Winston, of a specified wallet address.
      parameters:
        - name: address
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/Base64Url43'
      responses:
        '200':
          description: |-
            Successful operation.
          content:
            text/plain:
              schema:
                type: integer
  '/wallet/{address}/last_tx':
    get:
      tags: [Wallets]
      summary: Get the last transaction of a wallet.
      description: Get the TX ID from the most recent transaction a specified wallet completed.
      parameters:
        - name: address
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/Base64Url43'
      responses:
        '200':
          description: |-
            Successful operation.
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/Base64Url43'

  # Blocks
  '/current_block':
    get:
      tags: [Blocks]
      summary: Get information about the current block.
      description: Get detailed information about the current block on the Arweave network.
      responses:
        '200':
          description: |-
            Successful operation.
          content:
            application/json:
              schema:
                '$ref': '#/components/schemas/Block'
  '/block/height/{height}':
    get:
      tags: [Blocks]
      summary: Get current block height.
      description: Gets the current block height of the Arweave network.
      parameters:
        - name: height
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/NumericString'
      responses:
        '200':
          description: |-
            Successful operation.
          content:
            application/json:
              schema:
                '$ref': '#/components/schemas/Block'
  '/block/hash/{hash}':
    get:
      tags: [Blocks]
      summary: Get block by hash.
      description: Get block information based on a block's hash.
      parameters:
        - name: hash
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/Base64Url64'
      responses:
        '200':
          description: |-
            Successful operation.
          content:
            application/json:
              schema:
                '$ref': '#/components/schemas/Block'
  '/block/current':
    get:
      tags: [Blocks]
      summary: Alternative endpoint to get current block.
      description: Alternative endpoint to `/current_block`, gets current block information.
      responses:
        '200':
          description: |-
            Successful operation.
          content:
            application/json:
              schema:
                '$ref': '#/components/schemas/Block'
  # "/block/hash/{block hash}/wallet_list"

  # Transactions
  '/tx/pending':
    get:
      tags: [Transactions]
      summary: Get pending transactions.
      description: Get list of transactions that are currently pending.
      responses:
        '200':
          description: |-
            Successful operation.
          content:
            application/json:
              schema:
                '$ref': '#/components/schemas/Mempool'
  '/tx/{txId}':
    get:
      tags: [Transactions]
      summary: Get information about a transaction.
      description: Get detailed information about a specific transaction.
      parameters:
        - name: txId
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/Base64Url43'
      responses:
        '200':
          description: |-
            Successful operation.
          content:
            application/json:
              schema:
                '$ref': '#/components/schemas/Transaction'
  '/tx/{txId}/offset':
    get:
      tags: [Transactions]
      summary: Get transaction offset information.
      description: Get information about the size and offset of a specified transaction.
      parameters:
        - name: txId
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/Base64Url43'
      responses:
        '200':
          description: |-
            Successful operation.
          content:
            application/json:
              schema:
                '$ref': '#/components/schemas/TransactionOffset'
  '/tx/{txId}/status':
    get:
      tags: [Transactions]
      summary: Get transaction status.
      description: Get the status of a specified transaction.
      parameters:
        - name: txId
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/Base64Url43'
      responses:
        '200':
          description: |-
            Successful operation.
          content:
            application/json:
              schema:
                '$ref': '#/components/schemas/TransactionStatus'
  # "/tx/{txId}/field"
  # "/unconfirmed_tx/{txId}"

  # Chunks
  '/chunk/{offset}':
    get:
      tags: [Chunks]
      summary: Get chunk offset information.
      description: Fetches information about the size and offset of a specified chunk.
      parameters:
        - name: offset
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: |-
            200 response
          content:
            application/json:
              schema:
                '$ref': '#/components/schemas/Chunk'

  # Index
  '/graphql':
    post:
      tags: [Index Querying]
      summary: Query indexed data using GraphQL
      description: |
        GraphQL endpoint for querying indexed transaction and block data. Supports:
        - Transaction queries by ID, owner, recipient, tags, and bundle
        - Block queries by ID and height
        - Pagination and sorting
        - Rich metadata including sizes, content types, and signatures

        See the GraphQL Playground at `/graphql` for full schema documentation and interactive querying.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - query
              properties:
                query:
                  type: string
                  description: GraphQL query string
                variables:
                  type: object
                  description: Query variables
              example:
                query: |
                  query {
                    transaction(
                      id: "D6I-Ke9oLg7sU_PS4oADQmnyFRa1jj2Zs1DP9BltrFs"
                    ) {
                      signature
                      owner {
                        address
                      }
                      bundledIn {
                        id
                      }
                      block {
                        height
                      }
                    }
                  }
      responses:
        '200':
          description: Successful GraphQL response
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: object
                    description: Query results
                    example: |
                      {
                        "transaction": {
                          "signature": "4wh6PDJH6eyCKAWZoW26T0qt5NNjnVgyPjLs5HDR7fYgOyzEZF8FyIJiz01IRVvmXC9WZKvy2uLGiIdW4GtUNhs",
                          "owner": {
                            "address": "WbE3R_GcAalEP-VonRpL2P5TG30PJRA1-Tj20E_xIK0"
                          },
                          "bundledIn": {
                            "id": "yU5ilscWlDecDhUmNcd24zqe9HmNZ31h31BxC_VcXIM"
                          },
                          "block": null
                        }
                      }
                  errors:
                    type: array
                    description: Query errors if any
                    items:
                      type: object
                      properties:
                        message:
                          type: string
                        locations:
                          type: array
                          items:
                            type: object
                            properties:
                              line:
                                type: integer
                              column:
                                type: integer
                        path:
                          type: array
                          items:
                            type: string
        '400':
          description: Invalid GraphQL query
        '500':
          description: Server error

  # ArNS
  '/ar-io/resolver/{name}':
    get:
      tags: [ArNS]
      summary: Get ArNS name resolution.
      description: Get detailed information of a specified ArNS name.
      parameters:
        - name: name
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful resolution of ArNS name
          headers:
            x-arns-resolved-id:
              schema:
                $ref: '#/components/schemas/Base64Url43'
              description: The resolved transaction ID
            x-arns-ttl-seconds:
              schema:
                type: string
              description: Time-to-live in seconds for this resolution
            x-arns-process-id:
              schema:
                type: string
              description: AO process ID
            x-arns-resolved-at:
              schema:
                type: string
              description: Unix timestamp when the name was resolved
            x-arns-record-index:
              schema:
                type: number
              description: Index of the name in the sorted list of names
            x-arns-undername-limit:
              schema:
                type: number
              description: The undername limit for the base ArNS name
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ArNSResolution'
        '404':
          description: ArNS name not found.

  # Admin
  '/ar-io/admin/debug':
    get:
      tags: [Admin]
      summary: Admin debugging information.
      description: Get detailed information about the current operational state of your AR.IO Gateway, including information about any current warnings or errors.
      operationId: adminDebug
      responses:
        '200':
          description: Successful operation.
        '401':
          description: Unauthorized, API key likely incorrect.
      security:
        - bearerAuth: []
  '/ar-io/admin/queue-tx':
    post:
      tags: [Admin]
      summary: Prioritize a transaction or bundle in the queue.
      description: Stage a specific TX ID as priority for your Gateway to locate and index. This will trigger and queue bundle processing if the transaction is a bundle, and your Gateway is configured to unbundle and index.
      operationId: adminQueueTx
      requestBody:
        $ref: '#/components/requestBodies/QueueTxRequest'
      responses:
        '200':
          $ref: '#/components/responses/QueueTxSuccess'
        '400':
          $ref: '#/components/responses/MissingId'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/ServerError'
      security:
        - bearerAuth: []
  '/ar-io/admin/queue-bundle':
    post:
      tags: [Admin]
      summary: Queue a bundle for indexing, bypassing any filter settings by default.
      description: Queue a bundle for indexing, bypassing any filter settings by default.
      operationId: adminQueueBundle
      requestBody:
        $ref: '#/components/requestBodies/QueueTxRequest'
      responses:
        '200':
          $ref: '#/components/responses/QueueTxSuccess'
        '400':
          $ref: '#/components/responses/MissingIdOrBypassFilter'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/ServerError'
      security:
        - bearerAuth: []
  '/ar-io/admin/queue-data-item':
    post:
      tags: [Admin]
      summary: Queue data items for indexing
      description: |
        Queue one or more data items for indexing. This endpoint
        accepts an array of data item headers and prioritizes them for processing.
      operationId: adminQueueDataItem
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                type: object
                properties:
                  data_size:
                    type: integer
                    description: Size of the data item in bytes
                  id:
                    $ref: '#/components/schemas/Base64Url43'
                    description: Data item ID
                  owner:
                    $ref: '#/components/schemas/Owner'
                    Description: Data item signer's public key
                  owner_address:
                    $ref: '#/components/schemas/Base64Url43'
                    description: Normalized address
                  signature:
                    $ref: '#/components/schemas/Signature'
                    description: Data item signature
                  tags:
                    $ref: '#/components/schemas/TagList'
                    description: Optional tags associated with the data item
                  content_type:
                    type: string
                    description: Optional content type of the data item
                  target:
                    $ref: '#/components/schemas/Base64Url43'
                    description: Optional target address
                  anchor:
                    $ref: '#/components/schemas/Base64Url43'
                    description: Optional anchor
                required:
                  - data_size
                  - id
                  - owner
                  - owner_address
                  - signature
              minItems: 1
      responses:
        '200':
          description: Data items successfully queued
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Data item(s) queued'
        '400':
          description: Invalid request body
          content:
            text/plain:
              schema:
                type: string
                example: 'Must provide array of data item headers'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/ServerError'
  '/ar-io/admin/block-data':
    put:
      tags: [Admin]
      summary: Blocks transactions or data-items so your AR.IO Gateway will not serve them.
      description: |
        Submits a TX ID/data-item ID or sha-256 content hash for content you do not want your AR.IO Gateway to serve. Once submitted, your Gateway will not respond to requests for these transactions or data-items.


        WARNING - Testing a TX ID here WILL result in that data being blocked by your Gateway.
      operationId: adminBlockData
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: string
                  description: TX ID for a transaction you want to block.
                notes:
                  type: string
                  description: Any notes or comments related to the block data. Documentation purposes only.
                source:
                  type: string
                  description: The source from which the block data was obtained. Documentation purposes only.
            examples:
              example1:
                value:
                  id: '3lyxgbgEvqNSvJrTX2J7CfRychUD5KClFhhVLyTPNCQ'
                  notes: 'This content is offensive'
                  source: 'Public Block list'
      responses:
        '200':
          description: Successful operation.
        '401':
          description: Unauthorized, API key likely incorrect.
      security:
        - bearerAuth: []
  '/ar-io/admin/block-name':
    put:
      tags: [Admin]
      summary: Blocks an ARNS name so your AR.IO Gateway will not serve it.
      description: Blocks an ARNS name so your AR.IO Gateway will not serve it.
      operationId: adminBlockName
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: The name you want to block.
                notes:
                  type: string
                  description: Any notes or comments related to the block name. Documentation purposes only.
                source:
                  type: string
                  description: The source from which the block name was obtained. Documentation purposes only.
      responses:
        '200':
          description: Successful operation.
        '401':
          description: Unauthorized, API key likely incorrect.
      security:
        - bearerAuth: []
  '/ar-io/admin/unblock-name':
    put:
      tags: [Admin]
      summary: Unblock an ARNS name.
      description: Unblock an ARNS name so your AR.IO Gateway will serve it again.
      operationId: adminUnblockName
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: The name you want to unblock.
      responses:
        '200':
          description: Successful operation.
        '401':
          description: Unauthorized, API key likely incorrect.
      security:
        - bearerAuth: []
  '/ar-io/admin/export-parquet':
    post:
      tags: [Admin]
      summary: Export data to Parquet format
      description: |
        Initiates an export of data to Parquet format files. This process runs in the background
        and exports data for the specified block height range.
      operationId: adminExportParquet
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                outputDir:
                  type: string
                  description: Directory in the server where Parquet files will be saved
                startHeight:
                  type: integer
                  minimum: 0
                  description: Starting block height for the export
                endHeight:
                  type: integer
                  minimum: 0
                  description: Ending block height for the export
                maxFileRows:
                  type: integer
                  minimum: 0
                  description: Maximum number of rows per Parquet file
              required:
                - outputDir
                - startHeight
                - endHeight
                - maxFileRows
      responses:
        '200':
          description: Export process started successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Parquet export started'
        '400':
          description: Invalid parameters provided
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/ServerError'
  '/ar-io/admin/export-parquet/status':
    get:
      tags: [Admin]
      summary: Get Parquet export status
      description: Returns the current status of the Parquet export process
      operationId: adminExportParquetStatus
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Current export status
          content:
            application/json:
              schema:
                type: object
                description: Current status of the export process
                properties:
                  status:
                    type: string
                    enum: [not_started, running, completed, errored]
                    description: Current status of the export process
                  outputDir:
                    type: string
                    description: Directory where Parquet files are being saved
                  startHeight:
                    type: integer
                    description: Starting block height of the export
                  endHeight:
                    type: integer
                    description: Ending block height of the export
                  maxFileRows:
                    type: integer
                    description: Maximum number of rows per Parquet file
                  durationInSeconds:
                    type: number
                    description: Duration of the export process in seconds
                  endTime:
                    type: string
                    format: date-time
                    description: ISO timestamp when the export completed
                  endTimestamp:
                    type: integer
                    description: Unix timestamp when the export completed
                  error:
                    type: string
                    description: Error message if the export failed
                required:
                  - status
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/ServerError'
  '/ar-io/admin/prune-stable-data-items':
    post:
      tags: [Admin]
      summary: Prune stable data items
      description: |
        Removes stable data items from the database that were indexed before the specified timestamp.
        This helps manage database size by removing older, stable data items.
      operationId: adminPruneStableDataItems
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                indexedAtThreshold:
                  type: integer
                  minimum: 0
                  description: Unix timestamp - data items indexed before this time will be pruned
              required:
                - indexedAtThreshold
            example:
              indexedAtThreshold: 1677721600
      responses:
        '200':
          description: Data items successfully pruned
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Stable data items pruned successfully'
        '400':
          description: Invalid indexedAtThreshold parameter
          content:
            text/plain:
              schema:
                type: string
                example: 'Invalid indexedAtThreshold - must be a positive integer'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/ServerError'

  # Farcaster
  '/local/farcaster/frame/{txId}':
    get:
      tags: [Farcaster Frames]
      summary: Handle a Farcaster initial Frame request.
      description: Responds to a Farcaster initial Frame GET request by
        returning the content of a specified Arweave transaction or data item.
      parameters:
        - name: txId
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/Base64Url43'
      responses:
        '200':
          description: |-
            Successful operation.
          content:
            application/json:
              schema:
                '$ref': '#/components/schemas/Transaction'
    post:
      tags: [Farcaster Frames]
      summary: Handle a Farcaster response Frame request.
      description: Responds to a Farcaster response Frame POST request by
        returning the content of a specified Arweave transaction or data item.
      parameters:
        - name: txId
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/Base64Url43'
      responses:
        '200':
          description: |-
            Successful operation.
          content:
            application/json:
              schema:
                '$ref': '#/components/schemas/Transaction'
